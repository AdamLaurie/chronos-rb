<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 520 430">
  <!-- Background -->
  <rect width="520" height="430" fill="#ffffff"/>

  <!-- Title -->
  <text x="260" y="25" text-anchor="middle" font-family="Arial" font-size="16" font-weight="bold" fill="#1a1a2e">Lock Status Level Shifter (NPN Inverter)</text>

  <!-- Input label -->
  <text x="25" y="165" font-family="Arial" font-size="11" fill="#333" font-weight="bold">LOCK</text>
  <text x="25" y="180" font-family="Arial" font-size="10" fill="#666">FE-5680A Pin 3</text>
  <text x="25" y="195" font-family="Arial" font-size="10" fill="#666">4.8V=unlocked</text>
  <text x="25" y="210" font-family="Arial" font-size="10" fill="#666">0.8V=locked</text>

  <!-- Input line -->
  <line x1="95" y1="175" x2="120" y2="175" stroke="#333" stroke-width="2"/>

  <!-- R6 - Base input resistor -->
  <rect x="120" y="165" width="50" height="20" fill="none" stroke="#333" stroke-width="2"/>
  <text x="145" y="160" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">R6</text>
  <text x="145" y="200" text-anchor="middle" font-family="Arial" font-size="10" fill="#666">22kΩ</text>

  <!-- Line from R6 to junction -->
  <line x1="170" y1="175" x2="210" y2="175" stroke="#333" stroke-width="2"/>

  <!-- Junction point at base -->
  <circle cx="210" cy="175" r="3" fill="#333"/>

  <!-- Line to transistor base -->
  <line x1="210" y1="175" x2="250" y2="175" stroke="#333" stroke-width="2"/>

  <!-- R7 - Base to GND resistor -->
  <line x1="210" y1="175" x2="210" y2="205" stroke="#333" stroke-width="2"/>
  <rect x="200" y="205" width="20" height="50" fill="none" stroke="#333" stroke-width="2"/>
  <text x="228" y="225" font-family="Arial" font-size="11" fill="#333">R7</text>
  <text x="228" y="240" font-family="Arial" font-size="10" fill="#666">10kΩ</text>
  <line x1="210" y1="255" x2="210" y2="285" stroke="#333" stroke-width="2"/>

  <!-- Ground for R7 -->
  <line x1="200" y1="285" x2="220" y2="285" stroke="#333" stroke-width="2"/>
  <line x1="204" y1="291" x2="216" y2="291" stroke="#333" stroke-width="2"/>
  <line x1="208" y1="297" x2="212" y2="297" stroke="#333" stroke-width="2"/>

  <!-- NPN Transistor Q1 -->
  <!-- Base line -->
  <line x1="250" y1="175" x2="270" y2="175" stroke="#333" stroke-width="2"/>
  <!-- Transistor body (vertical line) -->
  <line x1="270" y1="150" x2="270" y2="200" stroke="#333" stroke-width="3"/>
  <!-- Collector line (angled up) -->
  <line x1="270" y1="160" x2="295" y2="135" stroke="#333" stroke-width="2"/>
  <!-- Emitter line (angled down with arrow) -->
  <line x1="270" y1="190" x2="295" y2="215" stroke="#333" stroke-width="2"/>
  <!-- Emitter arrow -->
  <polygon points="295,215 285,210 288,218" fill="#333"/>

  <!-- Transistor pin labels -->
  <text x="255" y="172" font-family="Arial" font-size="9" fill="#0066cc" font-weight="bold">B</text>
  <text x="300" y="132" font-family="Arial" font-size="9" fill="#0066cc" font-weight="bold">C</text>
  <text x="300" y="225" font-family="Arial" font-size="9" fill="#0066cc" font-weight="bold">E</text>

  <!-- Transistor label -->
  <text x="248" y="145" font-family="Arial" font-size="11" fill="#333">Q1</text>
  <text x="248" y="235" font-family="Arial" font-size="10" fill="#666">2N3904</text>

  <!-- Collector vertical line up -->
  <line x1="295" y1="135" x2="295" y2="105" stroke="#333" stroke-width="2"/>

  <!-- Junction at collector -->
  <circle cx="295" cy="105" r="3" fill="#333"/>

  <!-- R8 - Collector pull-up resistor -->
  <line x1="295" y1="105" x2="295" y2="85" stroke="#333" stroke-width="2"/>
  <rect x="285" y="50" width="20" height="35" fill="none" stroke="#333" stroke-width="2"/>
  <text x="312" y="62" font-family="Arial" font-size="11" fill="#333">R8</text>
  <text x="312" y="77" font-family="Arial" font-size="10" fill="#666">1kΩ</text>

  <!-- +3.3V line -->
  <line x1="295" y1="50" x2="295" y2="38" stroke="#e94560" stroke-width="2"/>
  <text x="295" y="35" text-anchor="middle" font-family="Arial" font-size="10" fill="#e94560" font-weight="bold">+3.3V</text>

  <!-- Output line from collector junction -->
  <line x1="295" y1="105" x2="355" y2="105" stroke="#333" stroke-width="2"/>

  <!-- LED junction -->
  <circle cx="355" cy="105" r="3" fill="#333"/>

  <!-- Continue to output -->
  <line x1="355" y1="105" x2="400" y2="105" stroke="#333" stroke-width="2"/>

  <!-- Output label -->
  <circle cx="400" cy="105" r="5" fill="#4ade80" stroke="#333" stroke-width="1.5"/>
  <text x="415" y="100" font-family="Arial" font-size="11" fill="#333" font-weight="bold">LOCK</text>
  <text x="415" y="115" font-family="Arial" font-size="10" fill="#666">→ Pico GP4</text>
  <text x="415" y="130" font-family="Arial" font-size="10" fill="#4ade80" font-weight="bold">HIGH = locked</text>

  <!-- Emitter to GND -->
  <line x1="295" y1="215" x2="295" y2="285" stroke="#333" stroke-width="2"/>

  <!-- Ground for emitter -->
  <line x1="285" y1="285" x2="305" y2="285" stroke="#333" stroke-width="2"/>
  <line x1="289" y1="291" x2="301" y2="291" stroke="#333" stroke-width="2"/>
  <line x1="293" y1="297" x2="297" y2="297" stroke="#333" stroke-width="2"/>
  <text x="295" y="313" text-anchor="middle" font-family="Arial" font-size="9" fill="#666">GND</text>

  <!-- ===== GREEN LED (lights when LOCKED - collector HIGH) ===== -->
  <!-- Line down from junction -->
  <line x1="355" y1="105" x2="355" y2="140" stroke="#333" stroke-width="2"/>

  <!-- R9 - Green LED resistor -->
  <rect x="345" y="140" width="20" height="35" fill="none" stroke="#333" stroke-width="2"/>
  <text x="372" y="152" font-family="Arial" font-size="10" fill="#333">R9</text>
  <text x="372" y="167" font-family="Arial" font-size="9" fill="#666">330Ω</text>

  <!-- Line to green LED -->
  <line x1="355" y1="175" x2="355" y2="195" stroke="#333" stroke-width="2"/>

  <!-- Green LED symbol -->
  <polygon points="345,195 365,195 355,215" fill="#4ade80" stroke="#333" stroke-width="1.5"/>
  <line x1="345" y1="215" x2="365" y2="215" stroke="#333" stroke-width="2"/>
  <text x="375" y="210" font-family="Arial" font-size="9" fill="#22c55e" font-weight="bold">GREEN</text>
  <text x="375" y="222" font-family="Arial" font-size="8" fill="#666">(locked)</text>

  <!-- Line to GND for green LED -->
  <line x1="355" y1="215" x2="355" y2="245" stroke="#333" stroke-width="2"/>
  <line x1="345" y1="245" x2="365" y2="245" stroke="#333" stroke-width="2"/>
  <line x1="349" y1="251" x2="361" y2="251" stroke="#333" stroke-width="2"/>
  <line x1="353" y1="257" x2="357" y2="257" stroke="#333" stroke-width="2"/>

  <!-- ===== YELLOW LED (lights when UNLOCKED - collector LOW) ===== -->
  <!-- Line down from green LED ground to yellow LED junction -->
  <line x1="355" y1="245" x2="355" y2="270" stroke="#333" stroke-width="2"/>

  <!-- Junction for yellow LED -->
  <circle cx="355" cy="270" r="3" fill="#333"/>

  <!-- Horizontal line to yellow LED -->
  <line x1="355" y1="270" x2="430" y2="270" stroke="#333" stroke-width="2"/>

  <!-- Yellow LED symbol (current flows up from 3.3V through LED to collector) -->
  <line x1="430" y1="270" x2="430" y2="280" stroke="#333" stroke-width="2"/>
  <line x1="420" y1="280" x2="440" y2="280" stroke="#333" stroke-width="2"/>
  <polygon points="420,300 440,300 430,280" fill="#fbbf24" stroke="#333" stroke-width="1.5"/>
  <text x="450" y="290" font-family="Arial" font-size="9" fill="#d97706" font-weight="bold">YELLOW</text>
  <text x="450" y="302" font-family="Arial" font-size="8" fill="#666">(unlocked)</text>

  <!-- Line to R10 -->
  <line x1="430" y1="300" x2="430" y2="310" stroke="#333" stroke-width="2"/>

  <!-- R10 - Red LED resistor -->
  <rect x="420" y="310" width="20" height="35" fill="none" stroke="#333" stroke-width="2"/>
  <text x="447" y="322" font-family="Arial" font-size="10" fill="#333">R10</text>
  <text x="447" y="337" font-family="Arial" font-size="9" fill="#666">330Ω</text>

  <!-- Line to +3.3V -->
  <line x1="430" y1="345" x2="430" y2="358" stroke="#e94560" stroke-width="2"/>
  <text x="430" y="372" text-anchor="middle" font-family="Arial" font-size="10" fill="#e94560" font-weight="bold">+3.3V</text>

  <!-- Operation note -->
  <rect x="25" y="270" width="180" height="75" fill="#f0f8ff" stroke="#0f3460" stroke-width="1" rx="4"/>
  <text x="115" y="288" text-anchor="middle" font-family="Arial" font-size="10" fill="#0f3460" font-weight="bold">Operation:</text>
  <text x="115" y="305" text-anchor="middle" font-family="Arial" font-size="9" fill="#0f3460">4.8V in → Q1 ON → OUT LOW → YELLOW on</text>
  <text x="115" y="320" text-anchor="middle" font-family="Arial" font-size="9" fill="#0f3460">0.8V in → Q1 OFF → OUT HIGH → GREEN on</text>
  <text x="115" y="338" text-anchor="middle" font-family="Arial" font-size="9" fill="#0f3460" font-weight="bold">Inverts signal polarity</text>

  <!-- Component box -->
  <rect x="20" y="390" width="480" height="32" fill="#f5f5f5" stroke="#ddd" stroke-width="1" rx="4"/>
  <text x="260" y="403" text-anchor="middle" font-family="Arial" font-size="9" fill="#333">
    <tspan font-weight="bold">Components:</tspan> R6=22kΩ | R7=10kΩ | R8=1kΩ | R9=330Ω | R10=330Ω | Q1=2N3904
  </text>
  <text x="260" y="417" text-anchor="middle" font-family="Arial" font-size="9" fill="#333">
    Green LED (locked) | Yellow LED (unlocked)
  </text>
</svg>
